/* empty css            */import{x as A,h as b}from"./es-9-Xww37w.js";import{u as k,r as m,m as u,j as I,a as C,_ as S,b as F,d as y,h as g,k as L,V as i,f as c,g as $}from"./VTextField-3mF8LsWK.js";import{V as U}from"./VContainer-8uBJXZ7J.js";import{a as w,V as q}from"./VSnackbar-uj1bykoV.js";import{o as f,c as p,b as h,a as o,w as l,F as v,d,t as E,i as B,j as T}from"./index-DES5QqLj.js";b.locale("es",{invalidDate:b().format("DD-MM-YYYY")});const x=new Date;x.getFullYear();x.getMonth();const P={emits:["tengo_resultados"],components:{TimePicker:A},setup(){return{v$:k()}},data:()=>({submitForm:!1,color:"",snackbar:!1,colorSnackbar:"",textoTituloSnackbar:"",textoSnackbar:"",errors:[],formEdited:{nombre:"",primerApellido:"",segundoApellido:"",tel:"",correo:"",curp:""},formEditedDefault:{nombre:"",primerApellido:"",segundoApellido:"",tel:"",correo:"",curp:""},rules:{required:e=>!!e||"Este campo es requerido",rfc:e=>/^([A-ZÑ\x26]{4}([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1]))([A-Z\d]{3})$/.test(e)||"Ingresa un RFC válido",number:e=>!e||/^([0-9])+$/.test(e)||"Ingresa un número entero",decimal:e=>/^([0-9])+(.5)?$/.test(e)||!e||"Ingresa un número entero o decimal",email:e=>/.+@.+\..+/.test(e)||"Ingresa un correo válido",five:e=>!e||e&&e.length<=5||"Ingresa 5 dígitos como máximo",fifty:e=>e&&e.length<=50||"Ingresa un correo de 50 caracteres como máximo",oneHundred:e=>!e||e&&e.length<=100||"Ingresa 100 caracteres como máximo",fourteen:e=>!e||e&&e.length<=14||"Ingresa 14 caracteres como máximo",ten:e=>!e||e&&e.length===10||"Ingresa un número de 10 dígitos",textarea:e=>!e||e&&e.length<=1e3||"Ingresa 1000 caracteres como máximo",phone:e=>/^([0-9])+$/.test(e)||"Ingresa un número válido",phoneEmpty:e=>!e||/^([0-9])+$/.test(e)||"Ingresa un número válido"}}),validations:{formEdited:{nombre:{required:m,maxLength:u(50)},primerApellido:{required:m,maxLength:u(50)},segundoApellido:{required:m,maxLength:u(50)},tel:{required:m,maxLength:u(10),minLength:I(10)},correo:{required:m,maxLength:u(50)},curp:{required:m,maxLength:u(20)}}},computed:{nombreErrors(){const e=[];return this.v$.formEdited.nombre.$error&&(this.v$.formEdited.nombre.required&&e.push("Indicar el o los nombres"),this.v$.formEdited.nombre.maxValue&&e.push("El nombre no debe superar 50 caracteres")),e},primerApellidoErrors(){const e=[];return this.v$.formEdited.primerApellido.$error&&(this.v$.formEdited.primerApellido.required&&e.push("Indicar el primer apellido"),this.v$.formEdited.primerApellido.maxValue&&e.push("El primer apellido no debe superar 50 caracteres")),e},segundoApellidoErrors(){const e=[];return this.v$.formEdited.segundoApellido.$error&&(this.v$.formEdited.segundoApellido.required&&e.push("Indicar el segundo apellido"),this.v$.formEdited.segundoApellido.maxValue&&e.push("El segundo apellido no debe superar 50 caracteres")),e},telErrors(){const e=[];return this.v$.formEdited.tel.$error&&(this.v$.formEdited.tel.required&&e.push("Indicar el número de contacto"),this.v$.formEdited.tel.maxValue&&e.push("El número no debe superar 10 digitos"),this.v$.formEdited.tel.minLength&&e.push("El número debe ser de al menos 10 digitos")),e},correoErrors(){const e=[];return this.v$.formEdited.correo.$error&&(this.v$.formEdited.correo.required&&e.push("Indicar el correo"),this.v$.formEdited.correo.maxValue&&e.push("El correo no debe superar 50 caracteres")),e},curpErrors(){const e=[];return this.v$.formEdited.curp.$error&&(this.v$.formEdited.curp.required&&e.push("Indicar la CURP"),this.v$.formEdited.curp.maxValue&&e.push("La CURP no debe superar 20 caracteres")),e}},methods:{abrirPadre(){this.$emit("tengo_resultados",!0)},async validarForm(){if(this.v$.$validate(),console.log(this.formEdited),this.v$.formEdited.$invalid)this.errors=[],this.formEdited.nombre==""?(this.$refs.nombre.focus(),this.errors.push("Indicar el nombre")):this.formEdited.primerApellido==""?(this.$refs.primerApellido.focus(),this.errors.push("Indicar primer apellido")):this.formEdited.segundoApellido==""?(this.$refs.segundoApellido.focus(),this.errors.push("Indicar segundo apellido")):this.formEdited.tel==""?(this.$refs.tel.focus(),this.errors.push("Indicar el número de contacto")):this.formEdited.correo==""?(this.$refs.correo.focus(),this.errors.push("Indicar el correo")):this.formEdited.curp==""&&(this.$refs.curp.focus(),this.errors.push("Indicar la CURP"));else{const e={"Content-Type":"application/json","x-token-admin":localStorage.jwt};let r={nombre:this.formEdited.nombre,primerApellido:this.formEdited.primerApellido,segundoApellido:this.formEdited.segundoApellido,tel:this.formEdited.tel,correo:this.formEdited.correo,curp:this.formEdited.curp};this.submitForm=!0;const a=await this.$axios.post("/usuarios/agregar",r,{headers:e}).then(function(s){return console.log(s.data),s.data}).catch(function(s){return console.log("Error: ",s),s.response.data.login==!1?!1:s});a==!1?this.abrirPadre():a.ok?(this.errors=[],this.textoTituloSnackbar="Correcto",this.textoSnackbar=a.msg,this.colorSnackbar=this.color,this.snackbar=!0,this.v$.$reset(),this.$nextTick(()=>{this.formEdited=Object.assign({},this.formEditedDefault)}),this.submitForm=!1):(this.errors=[],this.textoTituloSnackbar="Error",this.textoSnackbar=a.msg,this.textoSnackbar=a.response.data.msg,this.colorSnackbar="red-darken-2",this.snackbar=!0,this.submitForm=!1)}}},watch:{color(e){localStorage.color=e}},mounted(){const e=C();console.log(e.color),this.color=e.color,localStorage.color&&(this.color=localStorage.color),localStorage.login==!1&&this.abrirPadre()},created(){}},D={class:"d-flex align-center flex-column"},N={class:"text-subtitle-1"},R={class:"text-wrap"},j={key:0};function Y(e,r,a,s,V,n){return f(),p(v,null,[h("div",D,[o(F,{width:"auto",elevation:"1",variant:"flat",color:e.color},{default:l(()=>[o(y,{class:"mt-6 text-center text-wrap"},{default:l(()=>[o(g,{left:""},{default:l(()=>[d(" mdi-checkbox-marked-outline ")]),_:1}),d(" Agregar un nueva persona ")]),_:1}),o(L,{class:"text-center mb-6"},{default:l(()=>[d("Ingresar datos")]),_:1})]),_:1},8,["color"])]),o(U,{fluid:"",class:"mt-6"},{default:l(()=>[o(q,{class:"d-flex flex-md-row flex-column justify-center align-center text-center"},{default:l(()=>[o(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4",class:"text-center"},{default:l(()=>[d(" Nombre(s) * ")]),_:1}),o(i,{col:"12",xs:"12",sm:"12",md:"6",lg:"6"},{default:l(()=>[o(c,{type:"text",color:e.color,counter:50,maxlength:"50",modelValue:e.formEdited.nombre,"onUpdate:modelValue":r[0]||(r[0]=t=>e.formEdited.nombre=t),label:"Indicar nombre(s)",variant:"outlined","error-messages":n.nombreErrors,onChange:r[1]||(r[1]=t=>s.v$.formEdited.nombre.$touch()),onBlur:r[2]||(r[2]=t=>s.v$.formEdited.nombre.$touch()),ref:"nombre"},null,8,["color","modelValue","error-messages"])]),_:1}),o(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4",class:"text-center"},{default:l(()=>[d(" Primer apellido * ")]),_:1}),o(i,{col:"12",xs:"12",sm:"12",md:"6",lg:"6"},{default:l(()=>[o(c,{type:"text",color:e.color,counter:50,maxlength:"50",modelValue:e.formEdited.primerApellido,"onUpdate:modelValue":r[3]||(r[3]=t=>e.formEdited.primerApellido=t),label:"Indicar primer apellido",variant:"outlined","error-messages":n.primerApellidoErrors,onChange:r[4]||(r[4]=t=>s.v$.formEdited.primerApellido.$touch()),onBlur:r[5]||(r[5]=t=>s.v$.formEdited.primerApellido.$touch()),ref:"primerApellido"},null,8,["color","modelValue","error-messages"])]),_:1}),o(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4",class:"text-center"},{default:l(()=>[d(" Segundo apellido * ")]),_:1}),o(i,{col:"12",xs:"12",sm:"12",md:"6",lg:"6"},{default:l(()=>[o(c,{type:"text",color:e.color,counter:50,maxlength:"50",modelValue:e.formEdited.segundoApellido,"onUpdate:modelValue":r[6]||(r[6]=t=>e.formEdited.segundoApellido=t),label:"Indicar segundo apellido",variant:"outlined","error-messages":n.segundoApellidoErrors,onChange:r[7]||(r[7]=t=>s.v$.formEdited.segundoApellido.$touch()),onBlur:r[8]||(r[8]=t=>s.v$.formEdited.segundoApellido.$touch()),ref:"segundoApellido"},null,8,["color","modelValue","error-messages"])]),_:1}),o(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4",class:"text-center"},{default:l(()=>[d(" Número celular * ")]),_:1}),o(i,{col:"12",xs:"12",sm:"12",md:"6",lg:"6"},{default:l(()=>[o(c,{type:"text",color:e.color,counter:10,maxlength:"10",modelValue:e.formEdited.tel,"onUpdate:modelValue":r[9]||(r[9]=t=>e.formEdited.tel=t),label:"Indicar número celular",variant:"outlined","error-messages":n.telErrors,onChange:r[10]||(r[10]=t=>s.v$.formEdited.tel.$touch()),onBlur:r[11]||(r[11]=t=>s.v$.formEdited.tel.$touch()),ref:"tel"},null,8,["color","modelValue","error-messages"])]),_:1}),o(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4",class:"text-center"},{default:l(()=>[d(" Correo electrónico * ")]),_:1}),o(i,{col:"12",xs:"12",sm:"12",md:"6",lg:"6"},{default:l(()=>[o(c,{type:"text",color:e.color,counter:50,maxlength:"50",modelValue:e.formEdited.correo,"onUpdate:modelValue":r[12]||(r[12]=t=>e.formEdited.correo=t),label:"Indicar correo electrónico",variant:"outlined",onChange:r[13]||(r[13]=t=>s.v$.formEdited.correo.$touch()),onBlur:r[14]||(r[14]=t=>s.v$.formEdited.correo.$touch()),ref:"correo",rules:[e.rules.required,e.rules.email,e.rules.fifty]},null,8,["color","modelValue","rules"])]),_:1}),o(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4",class:"text-center"},{default:l(()=>[d(" Curp * ")]),_:1}),o(i,{col:"12",xs:"12",sm:"12",md:"6",lg:"6"},{default:l(()=>[o(c,{type:"text",color:e.color,counter:50,maxlength:"50",modelValue:e.formEdited.curp,"onUpdate:modelValue":r[15]||(r[15]=t=>e.formEdited.curp=t),label:"Indicar CURP",variant:"outlined","error-messages":n.curpErrors,onChange:r[16]||(r[16]=t=>s.v$.formEdited.curp.$touch()),onBlur:r[17]||(r[17]=t=>s.v$.formEdited.curp.$touch()),ref:"curp"},null,8,["color","modelValue","error-messages"])]),_:1}),o(i,{col:"12",xs:"12",sm:"12",md:"4",lg:"4"},{default:l(()=>[o($,{color:e.color,block:"",size:"large",loading:e.submitForm,disabled:e.submitForm,onClick:n.validarForm},{default:l(()=>[o(g,{left:""},{default:l(()=>[d(" mdi-content-save-move-outline ")]),_:1}),d(" Guardar ")]),_:1},8,["color","loading","disabled","onClick"])]),_:1})]),_:1})]),_:1}),o(w,{modelValue:e.snackbar,"onUpdate:modelValue":r[19]||(r[19]=t=>e.snackbar=t),vertical:"",timeout:2e3,color:e.colorSnackbar,location:"center",elevation:"24"},{actions:l(()=>[o($,{variant:"text",onClick:r[18]||(r[18]=t=>e.snackbar=!1)},{default:l(()=>[d(" Cerrar ")]),_:1})]),default:l(()=>[h("div",N,[o(g,{left:""},{default:l(()=>[d("mdi-information-outline")]),_:1}),d(" "+E(e.textoTituloSnackbar),1)]),h("p",R,E(e.textoSnackbar),1),e.errors.length!=0?(f(),p("div",j,[(f(!0),p(v,null,B(e.errors,t=>(f(),p("p",{key:t},E(t),1))),128))])):T("",!0)]),_:1},8,["modelValue","color"])],64)}const J=S(P,[["render",Y]]);export{J as default};
