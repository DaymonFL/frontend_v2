import{u as B,r as V,m as S,a as f,_ as A,c,h,b as v,i as N,d as m,e as k,f as C,g as z,V as _}from"./VTextField-3mF8LsWK.js";/* empty css            */import{r as J,u as M,f as O,o as x,g as $,w as a,a as o,h as R,d as s,c as q,i as K,F as P,t as u,e as F,b as n}from"./index-DES5QqLj.js";import{V as Y,_ as p,a as H,b as Q,c as D,d as G,e as W,f as X,g as Z}from"./VSheet-QUnmcMgP.js";import{V as ee,a as b,_ as I,b as E}from"./VCarouselItem-G_XY91k0.js";import{a as w,b as g,c as y,d as T,_ as U,V as oe}from"./VList-9COB0R3z.js";import{V as ae}from"./VChip-IM-AHWPC.js";import{V as L}from"./VContainer-8uBJXZ7J.js";const te={setup(){return{v$:B()}},data:()=>({drawer:!0,value2:"",color:"#32215C",value:!1,show1:!1,snackbar:!1,textoTituloSnackbar:"",textoSnackbar:"",colorSnackbar:"",i:0,textoTitulo:"Sistema de Seguimiento a las Sesiones de los Consejos Distritales Proceso Electoral Local Ordinario 2023-2024",valid:!0,form1:{user:"",pass:""},form1Default:{user:"",pass:""},links:[]}),beforeRouteUpdate(e,t){console.log("Update",e.params)},beforeRouteEnter(e,t){console.log("Enter",e.params)},validations(){return{form1:{user:{required:V,maxLength:S(15)},pass:{required:V,maxLength:S(10)}}}},methods:{onResultados(e){this.limpia(),this.value=e,localStorage.login=e},cambiaColor(e){const t=f();t.cambiaColor(e),this.color=t.color},cerrarSesion(){this.cambiaColor(1),localStorage.removeItem("jwt"),localStorage.removeItem("links"),localStorage.removeItem("usuario"),localStorage.removeItem("idUsuario"),localStorage.removeItem("idDistrito"),localStorage.removeItem("usuario"),this.$router.push({name:"Login"})},toggleTheme(){localStorage.lightBlack=this.$vuetify.theme.global.name},async validarForm(){if(this.v$.$validate(),this.v$.form1.$invalid)console.log("Login todo mal");else{let e=new FormData;e.append("usuario",this.form1.user),e.append("contrasena",this.form1.pass);let t={usuario:this.form1.user,contrasena:this.form1.pass};const i=await this.$axios.post("/login/",t).then(function(l){return console.log(l.data),l.data}).catch(function(l){return console.log("Error: ",l.response.data),l.response.data});if(i.ok==!1)this.snackbar=!0,this.colorSnackbar="red-darken-2",this.textoTituloSnackbar="Error",this.textoSnackbar=i.msg;else{const l=f();l.creaMenu(i.menu[0].items),localStorage.setItem("links",JSON.stringify(i.menu[0].items)),localStorage.jwt=i.token,localStorage.admin=i.admin,localStorage.login=!1,l.creaSesionUsuario(i.usuarioJson[0]),console.table(l.usuario),localStorage.idUsuario=JSON.stringify(i.usuarioJson[0].idUsuario),localStorage.idDistrito=JSON.stringify(i.usuarioJson[0].idDistrito),this.value=!1,J.push(i.link)}}},limpia(){this.v$.$reset(),this.$nextTick(()=>{this.form1=Object.assign({},this.form1Default)})}},computed:{estadoColor(){const e=f();this.color=e.color},userErrors(){const e=[];return this.v$.form1.user.$error&&(this.v$.form1.user.required&&e.push("Indicar un nombre de usuario"),this.v$.form1.user.maxLength&&e.push("El nombre de usuario no debe exceder los 15 caracteres")),e},passErrors(){const e=[];return this.v$.form1.pass.$error&&(this.v$.form1.pass.required&&e.push("Indicar una contraseña"),this.v$.form1.pass.maxLength&&e.push("La contraseña no debe exceder los 10 caracteres")),e}},watch:{color(e){localStorage.color=e}},mounted(){const e=f();if(this.color=e.color,this.links=e.menuSys,localStorage.color&&(this.color=localStorage.color),localStorage.lightBlack){const t=M();t.global.name.value=localStorage.lightBlack}localStorage.links&&(this.links=JSON.parse(localStorage.links)),console.table(e.usuario),localStorage.login==!0&&(this.limpia(),this.value=!0)}},re=n("br",null,null,-1),le=n("span",{class:"text-h5"},"C",-1),se=n("br",null,null,-1),ne=n("br",null,null,-1),ie=n("br",null,null,-1),ue=n("br",null,null,-1),de=n("br",null,null,-1),ce=n("br",null,null,-1);function me(e,t,i,l,fe,d){const j=O("router-view");return x(),$(Y,null,{default:a(()=>[o(D,{"scroll-behavior":"fade-image inverted",density:"prominent",class:"mx-auto d-flex align-center justify-center"},{prepend:a(()=>[o(c,{class:"mx-auto",contain:"","lazy-src":p,width:"140",src:p}),o(H,{onClick:t[0]||(t[0]=R(r=>e.drawer=!e.drawer,["stop"]))})]),append:a(()=>[o(ae,{size:"large",color:e.color,label:""},{default:a(()=>[s(" Admin "),o(h,{end:"",icon:"mdi-shield-account"})]),_:1},8,["color"])]),default:a(()=>[o(Q,{class:"mx-auto d-flex text-center text-wrap justify-center align-center"},{default:a(()=>[s(" Sistema de Registro de Usuarios "),re,s(" Facultad de Química ")]),_:1})]),_:1}),o(D,{color:e.color,elevation:"1",height:"18"},null,8,["color"]),o(G,{modelValue:e.drawer,"onUpdate:modelValue":t[1]||(t[1]=r=>e.drawer=r),floating:"",permanent:"",color:"rgb(0, 0, 0, 0)"},{default:a(()=>[o(v,{rounded:"lg",elevation:"3",class:"mt-4 ml-1 mr-1"},{default:a(()=>[o(w,{density:"compact"},{default:a(()=>[o(g,{title:"Administrador",subtitle:"Menú"},{prepend:a(()=>[o(N,{color:e.color},{default:a(()=>[le]),_:1},8,["color"])]),_:1})]),_:1}),o(y),o(w,{rounded:"lg",shaped:""},{default:a(()=>[(x(!0),q(P,null,K(e.links,r=>(x(),$(g,{onClick:pe=>d.cambiaColor(r.id),to:r.link,value:r.id,key:r.id,link:"",color:e.color,rounded:"xl"},{prepend:a(()=>[o(h,{left:""},{default:a(()=>[s(u(r.icon),1)]),_:2},1024)]),default:a(()=>[o(T,{class:"text-wrap"},{default:a(()=>[s(u(r.nombre),1)]),_:2},1024)]),_:2},1032,["onClick","to","value","color"]))),128)),o(g,{key:"5",link:"",value:"9",onClick:d.cerrarSesion,color:e.color,rounded:"xl"},{prepend:a(()=>[o(h,{left:""},{default:a(()=>[s(" mdi-exit-to-app ")]),_:1})]),default:a(()=>[o(T,null,{default:a(()=>[s(" Cerrar sesión ")]),_:1})]),_:1},8,["onClick","color"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(X,null,{default:a(()=>[o(L,{fluid:""},{default:a(()=>[o(W,{"min-height":"85vh",rounded:"lg",elevation:"1"},{default:a(()=>[o(j,{onTengo_resultados:d.onResultados},null,8,["onTengo_resultados"])]),_:1})]),_:1})]),_:1}),o(oe,{modelValue:e.value,"onUpdate:modelValue":t[9]||(t[9]=r=>e.value=r),persistent:"",width:"600px"},{default:a(()=>[o(v,{class:"rounded-xl"},{default:a(()=>[o(ee,{cycle:"",height:"180","hide-delimiters":"","hide-delimiter-background":"","show-arrows":!1},{default:a(()=>[o(b,{key:"1",cover:"",gradient:"to bottom, rgba(0,0,0,.9), rgba(0,0,0,.1)"},{default:a(()=>[o(c,{class:"mx-auto my-auto",cover:"","lazy-src":I,src:I},{default:a(()=>[o(m,{class:"my-auto text-white text-wrap text-center justify-center align-center flex-sm-grow-0",style:{width:"100%","white-space":"normal"}},{default:a(()=>[se,ne,s(u(e.textoTitulo),1)]),_:1})]),_:1})]),_:1}),o(b,{key:"2",cover:"",gradient:"to bottom, rgba(0,0,0,.9), rgba(0,0,0,.1)"},{default:a(()=>[o(c,{class:"mx-auto",cover:"","lazy-src":U,src:U},{default:a(()=>[o(m,{class:"text-white text-wrap text-center justify-center align-center flex-sm-grow-0",style:{width:"100%","white-space":"normal"}},{default:a(()=>[ie,ue,s(u(e.textoTitulo),1)]),_:1})]),_:1})]),_:1}),o(b,{key:"3",cover:"",gradient:"to bottom, rgba(0,0,0,.9), rgba(0,0,0,.1)"},{default:a(()=>[o(c,{class:"mx-auto",cover:"","lazy-src":E,src:E},{default:a(()=>[o(m,{class:"text-white text-wrap text-center justify-center align-center flex-sm-grow-0",style:{width:"100%","white-space":"normal"}},{default:a(()=>[de,ce,s(u(e.textoTitulo),1)]),_:1})]),_:1})]),_:1})]),_:1}),o(m,{class:"text-center",style:{"font-size":"1em"}},{default:a(()=>[s(" Ha caducado la sesión ")]),_:1}),o(k,{class:"text-center"},{default:a(()=>[o(w,null,{default:a(()=>[o(g,null,{default:a(()=>[o(C,{modelValue:e.form1.user,"onUpdate:modelValue":t[2]||(t[2]=r=>e.form1.user=r),counter:15,label:"Usuario","error-messages":d.userErrors,onChange:t[3]||(t[3]=r=>l.v$.form1.user.$touch()),onBlur:t[4]||(t[4]=r=>l.v$.form1.user.$touch()),color:e.color,maxlength:15,"prepend-icon":"mdi-account-circle",onKeypress:F(d.validarForm,["enter"]),required:""},null,8,["modelValue","error-messages","color","onKeypress"]),o(C,{modelValue:e.form1.pass,"onUpdate:modelValue":t[5]||(t[5]=r=>e.form1.pass=r),class:"mt-2",color:e.color,counter:10,maxlength:10,"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password","error-messages":d.passErrors,onChange:t[6]||(t[6]=r=>l.v$.form1.pass.$touch()),onBlur:t[7]||(t[7]=r=>l.v$.form1.pass.$touch()),"onClick:append":t[8]||(t[8]=r=>e.show1=!e.show1),label:"Contraseña","prepend-icon":"mdi-key",onKeypress:F(d.validarForm,["enter"]),required:""},null,8,["modelValue","color","append-icon","type","error-messages","onKeypress"]),o(z,{color:e.color,block:"",onClick:d.validarForm,class:"mt-2"},{default:a(()=>[s("Ingresar")]),_:1},8,["color","onClick"])]),_:1}),o(y)]),_:1})]),_:1}),o(y,{class:"mx-4"}),o(m,{style:{"font-size":"0.87em"},class:"justify-center text-center text-wrap"},{default:a(()=>[n("strong",null,"Instituto Electoral de la Ciudad de México © "+u(new Date().getFullYear()),1),n("p",null,"Huizaches 25, Colonia Rancho Los Colorines, Tlalpan, C.P. 14386, Ciudad de México. "+u(new Date().getFullYear()),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(Z,{inset:"",width:"auto",absolute:"",padless:"",color:e.color,class:"white--text text-center justify-center py-0 py-sm-0 py-xs-1 py-md-1 py-lg-1 py-xl-1"},{default:a(()=>[o(v,{flat:"",tile:"",modelValue:e.value2,"onUpdate:modelValue":t[10]||(t[10]=r=>e.value2=r),color:e.color,class:"white--text text-center justify-center ma-0 pa-0"},{default:a(()=>[o(k,{class:"white--text py-0"},{default:a(()=>[o(L,{class:"fill-height align-content-center ma-0 pa-0",fluid:""},{default:a(()=>[o(_,{cols:"2",sm:"5",md:"3",class:"d-flex justify-center align-center"},{default:a(()=>[o(c,{class:"mx-auto",contain:"","lazy-src":p,width:"70",src:p})]),_:1}),o(_,{cols:"10",sm:"7",md:"9"},{default:a(()=>[n("strong",null,"Secretaría de Planeación e Informática de la Facultad de Química © "+u(new Date().getFullYear()),1),n("p",null,"UNAM "+u(new Date().getFullYear()),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","color"])]),_:1},8,["color"])]),_:1})}const Se=A(te,[["render",me]]);export{Se as default};
