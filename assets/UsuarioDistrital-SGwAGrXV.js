import{u as J,r as $,m as D,a as v,_ as M,c as p,h as g,b as x,i as q,d as h,e as I,f as F,g as O,V as T}from"./VTextField-3mF8LsWK.js";/* empty css            */import{r as P,f as K,o as m,g as b,w as o,a,h as R,d as l,c as V,i as E,F as S,t as i,e as L,b as n,aq as Y,ar as H}from"./index-DES5QqLj.js";import{V as Q,_ as w,a as G,b as W,c as U,d as X,e as Z,f as ee,g as oe}from"./VSheet-QUnmcMgP.js";import{V as ae,a as C,_ as j,b as B}from"./VCarouselItem-G_XY91k0.js";import{a as _,b as f,c as k,d as y,_ as z,V as te,f as re}from"./VList-9COB0R3z.js";import{V as le}from"./VChip-IM-AHWPC.js";import{V as N}from"./VContainer-8uBJXZ7J.js";const se={setup(){return{v$:J()}},data:()=>({drawer:!0,value2:"",idDistrito:0,color:"#32215C",value:!1,show1:!1,snackbar:!1,textoTituloSnackbar:"",textoSnackbar:"",colorSnackbar:"",i:0,textoTitulo:"Sistema de Seguimiento a las Sesiones de los Consejos Distritales Proceso Electoral Local Ordinario 2023-2024",valid:!0,form1:{user:"",pass:""},form1Default:{user:"",pass:""},links:[],link2:[]}),validations(){return{form1:{user:{required:$,maxLength:D(15)},pass:{required:$,maxLength:D(10)}}}},methods:{onResultados(e){this.limpia(),this.value=e,localStorage.login=e},cambiaColor(e){const r=v();r.cambiaColor(e),this.color=r.color},cerrarSesion(){this.cambiaColor(1),localStorage.removeItem("jwt"),localStorage.removeItem("links"),localStorage.removeItem("usuario"),localStorage.removeItem("idUsuario"),localStorage.removeItem("usuario"),this.$router.push({name:"Login"})},toggleTheme(){localStorage.lightBlack=this.$vuetify.theme.global.name},async validarForm(){if(this.v$.$validate(),this.v$.form1.$invalid)console.log("Login todo mal");else{let e=new FormData;e.append("usuario",this.form1.user),e.append("contrasena",this.form1.pass);let r={usuario:this.form1.user,contrasena:this.form1.pass};const u=await this.$axios.post("/login/",r).then(function(s){return console.log(s.data),s.data}).catch(function(s){return console.log("Error: ",s.response.data),s.response.data});if(u.ok==!1)this.snackbar=!0,this.colorSnackbar="red-darken-2",this.textoTituloSnackbar="Error",this.textoSnackbar=u.msg;else{const s=v();s.creaMenu(u.menu[0].items),localStorage.setItem("links",JSON.stringify(u.menu[0].items)),localStorage.jwt=u.token,localStorage.admin=u.admin,localStorage.login=!1,s.creaSesionUsuario(u.usuarioJson[0]),console.table(s.usuario),localStorage.idUsuario=JSON.stringify(u.usuarioJson[0].idUsuario),localStorage.idDistrito=JSON.stringify(u.usuarioJson[0].idDistrito),this.value=!1,P.push(u.link)}}},limpia(){this.v$.$reset(),this.$nextTick(()=>{this.form1=Object.assign({},this.form1Default)})}},computed:{estadoColor(){const e=v();this.color=e.color},userErrors(){const e=[];return this.v$.form1.user.$error&&(this.v$.form1.user.required&&e.push("Indicar un nombre de usuario"),this.v$.form1.user.maxLength&&e.push("El nombre de usuario no debe exceder los 15 caracteres")),e},passErrors(){const e=[];return this.v$.form1.pass.$error&&(this.v$.form1.pass.required&&e.push("Indicar una contraseña"),this.v$.form1.pass.maxLength&&e.push("La contraseña no debe exceder los 10 caracteres")),e}},watch:{color(e){localStorage.color=e}},mounted(){const e=v();this.color=e.color,this.links=e.menuSys,localStorage.color&&(this.color=localStorage.color),this.idDistrito=localStorage.idDistrito,localStorage.links&&(this.links=JSON.parse(localStorage.links)),localStorage.login==!0&&(this.limpia(),this.value=!0)}},ie=n("br",null,null,-1),ne=n("span",{class:"text-h5"},"D",-1),ue=n("br",null,null,-1),de=n("br",null,null,-1),ce=n("br",null,null,-1),me=n("br",null,null,-1),fe=n("br",null,null,-1),pe=n("br",null,null,-1);function ge(e,r,u,s,he,d){const A=K("router-view");return m(),b(Q,null,{default:o(()=>[a(U,{"scroll-behavior":"fade-image inverted",density:"prominent",class:"mx-auto d-flex align-center justify-center"},{prepend:o(()=>[a(p,{class:"mx-auto",contain:"","lazy-src":w,width:"140",src:w}),a(G,{onClick:r[0]||(r[0]=R(t=>e.drawer=!e.drawer,["stop"]))})]),append:o(()=>[a(le,{size:"large",color:e.color,label:""},{default:o(()=>[l(" Usuario "),a(g,{end:"",icon:"mdi-account-group-outline"})]),_:1},8,["color"])]),default:o(()=>[a(W,{class:"mx-auto d-flex text-center text-wrap justify-center align-center"},{default:o(()=>[l(" Sistema de Registro de Usuarios "),ie,l(" Facultad de Química ")]),_:1})]),_:1}),a(U,{color:e.color,elevation:"1",height:"18"},null,8,["color"]),a(X,{modelValue:e.drawer,"onUpdate:modelValue":r[1]||(r[1]=t=>e.drawer=t),floating:"",permanent:"",color:"rgb(0, 0, 0, 0)",width:"400"},{default:o(()=>[a(x,{rounded:"lg",elevation:"3",width:"390",class:"mt-4 ml-1"},{default:o(()=>[a(_,{density:"compact"},{default:o(()=>[a(f,{title:"Usuario",subtitle:"Menú"},{prepend:o(()=>[a(q,{color:e.color},{default:o(()=>[ne]),_:1},8,["color"])]),_:1})]),_:1}),a(k),a(_,{rounded:"lg",shaped:""},{default:o(()=>[(m(!0),V(S,null,E(e.links,t=>(m(),V(S,{key:t.id},[t.submenu?(m(),b(re,{value:t.id,key:t.id,color:e.color},{activator:o(({props:c})=>[a(f,Y(H(c)),{prepend:o(()=>[a(g,{left:""},{default:o(()=>[l(i(t.icon),1)]),_:2},1024)]),default:o(()=>[a(y,{class:"text-wrap"},{default:o(()=>[l(i(t.nombre),1)]),_:2},1024)]),_:2},1040)]),default:o(()=>[(m(!0),V(S,null,E(t.submenu,c=>(m(),b(f,{key:c.subId,to:c.subLink,value:c.subId,onClick:ve=>d.cambiaColor(c.subId),color:e.color,rounded:"xl"},{prepend:o(()=>[a(g,{left:""},{default:o(()=>[l(i(c.icon),1)]),_:2},1024)]),default:o(()=>[a(y,{class:"text-wrap"},{default:o(()=>[l(i(c.subnombre),1)]),_:2},1024)]),_:2},1032,["to","value","onClick","color"]))),128))]),_:2},1032,["value","color"])):(m(),b(f,{key:1,onClick:c=>d.cambiaColor(t.id),to:t.link,value:t.id,link:"",color:e.color,rounded:"xl"},{prepend:o(()=>[a(g,{left:""},{default:o(()=>[l(i(t.icon),1)]),_:2},1024)]),default:o(()=>[a(y,{class:"text-wrap"},{default:o(()=>[l(i(t.nombre),1)]),_:2},1024)]),_:2},1032,["onClick","to","value","color"]))],64))),128)),a(f,{key:"5",link:"",value:"9",onClick:d.cerrarSesion,color:e.color,rounded:"xl"},{prepend:o(()=>[a(g,{left:""},{default:o(()=>[l(" mdi-exit-to-app ")]),_:1})]),default:o(()=>[a(y,null,{default:o(()=>[l(" Cerrar sesión ")]),_:1})]),_:1},8,["onClick","color"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(ee,null,{default:o(()=>[a(N,{fluid:""},{default:o(()=>[a(Z,{"min-height":"85vh",rounded:"lg",elevation:"1"},{default:o(()=>[a(A,{onTengo_resultados:d.onResultados},null,8,["onTengo_resultados"])]),_:1})]),_:1})]),_:1}),a(te,{modelValue:e.value,"onUpdate:modelValue":r[9]||(r[9]=t=>e.value=t),persistent:"",width:"600px"},{default:o(()=>[a(x,{class:"rounded-xl"},{default:o(()=>[a(ae,{cycle:"",height:"180","hide-delimiters":"","hide-delimiter-background":"","show-arrows":!1},{default:o(()=>[a(C,{key:"1",cover:"",gradient:"to bottom, rgba(0,0,0,.9), rgba(0,0,0,.1)"},{default:o(()=>[a(p,{class:"mx-auto my-auto",cover:"","lazy-src":j,src:j},{default:o(()=>[a(h,{class:"my-auto text-white text-wrap text-center justify-center align-center flex-sm-grow-0",style:{width:"100%","white-space":"normal"}},{default:o(()=>[ue,de,l(i(e.textoTitulo),1)]),_:1})]),_:1})]),_:1}),a(C,{key:"2",cover:"",gradient:"to bottom, rgba(0,0,0,.9), rgba(0,0,0,.1)"},{default:o(()=>[a(p,{class:"mx-auto",cover:"","lazy-src":z,src:z},{default:o(()=>[a(h,{class:"text-white text-wrap text-center justify-center align-center flex-sm-grow-0",style:{width:"100%","white-space":"normal"}},{default:o(()=>[ce,me,l(i(e.textoTitulo),1)]),_:1})]),_:1})]),_:1}),a(C,{key:"3",cover:"",gradient:"to bottom, rgba(0,0,0,.9), rgba(0,0,0,.1)"},{default:o(()=>[a(p,{class:"mx-auto",cover:"","lazy-src":B,src:B},{default:o(()=>[a(h,{class:"text-white text-wrap text-center justify-center align-center flex-sm-grow-0",style:{width:"100%","white-space":"normal"}},{default:o(()=>[fe,pe,l(i(e.textoTitulo),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(h,{class:"text-center",style:{"font-size":"1em"}},{default:o(()=>[l(" Ha caducado la sesión ")]),_:1}),a(I,{class:"text-center"},{default:o(()=>[a(_,null,{default:o(()=>[a(f,null,{default:o(()=>[a(F,{modelValue:e.form1.user,"onUpdate:modelValue":r[2]||(r[2]=t=>e.form1.user=t),counter:15,label:"Usuario","error-messages":d.userErrors,onChange:r[3]||(r[3]=t=>s.v$.form1.user.$touch()),onBlur:r[4]||(r[4]=t=>s.v$.form1.user.$touch()),color:e.color,maxlength:15,"prepend-icon":"mdi-account-circle",onKeypress:L(d.validarForm,["enter"]),required:""},null,8,["modelValue","error-messages","color","onKeypress"]),a(F,{modelValue:e.form1.pass,"onUpdate:modelValue":r[5]||(r[5]=t=>e.form1.pass=t),class:"mt-2",color:e.color,counter:10,maxlength:10,"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password","error-messages":d.passErrors,onChange:r[6]||(r[6]=t=>s.v$.form1.pass.$touch()),onBlur:r[7]||(r[7]=t=>s.v$.form1.pass.$touch()),"onClick:append":r[8]||(r[8]=t=>e.show1=!e.show1),label:"Contraseña","prepend-icon":"mdi-key",onKeypress:L(d.validarForm,["enter"]),required:""},null,8,["modelValue","color","append-icon","type","error-messages","onKeypress"]),a(O,{color:e.color,block:"",onClick:d.validarForm,class:"mt-2"},{default:o(()=>[l("Ingresar")]),_:1},8,["color","onClick"])]),_:1}),a(k)]),_:1})]),_:1}),a(k,{class:"mx-4"}),a(h,{style:{"font-size":"0.87em"},class:"justify-center text-center text-wrap"},{default:o(()=>[n("strong",null,"Instituto Electoral de la Ciudad de México © "+i(new Date().getFullYear()),1),n("p",null,"Huizaches 25, Colonia Rancho Los Colorines, Tlalpan, C.P. 14386, Ciudad de México. "+i(new Date().getFullYear()),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(oe,{inset:"",width:"auto",absolute:"",padless:"",color:e.color,class:"white--text text-center justify-center py-0 py-sm-0 py-xs-1 py-md-1 py-lg-1 py-xl-1"},{default:o(()=>[a(x,{flat:"",tile:"",modelValue:e.value2,"onUpdate:modelValue":r[10]||(r[10]=t=>e.value2=t),color:e.color,class:"white--text text-center justify-center ma-0 pa-0"},{default:o(()=>[a(I,{class:"white--text py-0"},{default:o(()=>[a(N,{class:"fill-height align-content-center ma-0 pa-0",fluid:""},{default:o(()=>[a(T,{cols:"2",sm:"5",md:"3",class:"d-flex justify-center align-center"},{default:o(()=>[a(p,{class:"mx-auto",contain:"","lazy-src":w,width:"70",src:w})]),_:1}),a(T,{cols:"10",sm:"7",md:"9"},{default:o(()=>[n("strong",null,"Secretaría de Planeación e Informática de la Facultad de Química © "+i(new Date().getFullYear()),1),n("p",null,"UNAM "+i(new Date().getFullYear()),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","color"])]),_:1},8,["color"])]),_:1})}const ke=M(se,[["render",ge]]);export{ke as default};
